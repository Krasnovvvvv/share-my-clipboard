# üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Share My Clipboard

## –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ–µ–∫—Ç–µ Share My Clipboard. –û–Ω —Å–æ–∑–¥–∞–Ω –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

---

## üìö –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#Ô∏è-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
3. [–°–µ—Ç–µ–≤–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è](#-—Å–µ—Ç–µ–≤–∞—è-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è)
4. [–†–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞](#-—Ä–∞–±–æ—Ç–∞-—Å-–±—É—Ñ–µ—Ä–æ–º-–æ–±–º–µ–Ω–∞)
5. [–ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤](#-–ø–µ—Ä–µ–¥–∞—á–∞-—Ñ–∞–π–ª–æ–≤)
6. [IPC –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Windows](#ipc-–∏-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-windows)
7. [–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è](#-–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å-–∏-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
8. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è: Go (Golang)

**–ü–æ—á–µ–º—É Go?**
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏** —á–µ—Ä–µ–∑ goroutines –∏ channels
- **–ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è** –≤ –Ω–∞—Ç–∏–≤–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç—å—é** –±–ª–∞–≥–æ–¥–∞—Ä—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ `net`
- **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** (—Ö–æ—Ç—è —Å–µ–π—á–∞—Å –ø—Ä–æ–µ–∫—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è Windows)
- **–°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–º—è—Ç—å—é

### –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

#### 1. **Fyne** ‚Äî GUI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
```go
import "fyne.io/fyne/v2"
```

**–ß—Ç–æ —ç—Ç–æ?**  
Fyne ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –Ω–∞ Go.

**–ü–æ—á–µ–º—É Fyne?**
- –ù–∞—Ç–∏–≤–Ω—ã–π –≤–∏–¥ –Ω–∞ –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- –ü—Ä–æ—Å—Ç–æ–π –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π API

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ:**
```go
a := app.NewWithID("com.krasnov.clipboard")
a.Settings().SetTheme(theme.DarkTheme())
w := a.NewWindow("Share My Clipboard")
w.Resize(fyne.NewSize(440, 530))
```

- `app.NewWithID` —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID (–¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫)
- `theme.DarkTheme()` –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ç—ë–º–Ω—É—é —Ç–µ–º—É
- `NewWindow` —Å–æ–∑–¥–∞—ë—Ç –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### 2. **golang.design/x/clipboard** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞
```go
import "golang.design/x/clipboard"
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç?**  
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –±—É—Ñ–µ—Ä—É –æ–±–º–µ–Ω–∞.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- **–ß—Ç–µ–Ω–∏–µ:** `clipboard.Read(clipboard.FmtText)` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –∏–∑ –±—É—Ñ–µ—Ä–∞
- **–ó–∞–ø–∏—Å—å:** `clipboard.Write(clipboard.FmtText, data)` ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –æ–ø—Ä–æ—Å (polling) –∫–∞–∂–¥—ã–µ 100 –º—Å –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞:**
```go
func (m *Manager) Watch() chan ClipboardContent {
    go func() {
        ticker := time.NewTicker(100 * time.Millisecond)
        for range ticker.C {
            data := clipboard.Read(clipboard.FmtText)
            if len(data) > 0 && !bytes.Equal(data, m.lastContent) {
                m.channel <- ClipboardContent{
                    Type: ContentTypeText,
                    Text: string(data),
                }
                m.lastContent = data
            }
        }
    }()
    return m.channel
}
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. `time.NewTicker` —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–π–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–µ 100 –º—Å
2. `clipboard.Read` —á–∏—Ç–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É—Ñ–µ—Ä–∞
3. `bytes.Equal` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ª–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
4. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–Ω–∞–ª

#### 3. **golang.org/x/sys/windows** ‚Äî Windows API
```go
import "golang.org/x/sys/windows/registry"
```

**–ß—Ç–æ —ç—Ç–æ?**  
–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –≤—ã–∑–æ–≤–∞–º Windows.

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é** —á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä Windows
- **–í—ã–∑–æ–≤ WinAPI MessageBox** –±–µ–∑ –∫–æ–Ω—Å–æ–ª–∏

**–ü—Ä–∏–º–µ—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Ä–µ–µ—Å—Ç—Ä–µ:**
```go
func Register() error {
    key, _, err := registry.CreateKey(
        registry.CURRENT_USER,
        `Software\Classes\*\shell\ShareMyClipboard`,
        registry.ALL_ACCESS,
    )
    if err != nil {
        return err
    }
    defer key.Close()
    
    key.SetStringValue("", "Send to Connected Devices")
    key.SetStringValue("Icon", exePath)
    return nil
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. `CreateKey` —Å–æ–∑–¥–∞—ë—Ç –∫–ª—é—á –≤ —Ä–µ–µ—Å—Ç—Ä–µ (HKEY_CURRENT_USER)
2. –ü—É—Ç—å `Software\Classes\*\shell\...` ‚Äî —ç—Ç–æ –º–µ—Å—Ç–æ, –≥–¥–µ Windows –∏—â–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω—é –¥–ª—è —Ñ–∞–π–ª–æ–≤
3. `SetStringValue("", ...)` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é
4. `SetStringValue("Icon", ...)` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–∫–æ–Ω–∫—É

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
internal/
‚îú‚îÄ‚îÄ app/           # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ clipboard/     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞
‚îú‚îÄ‚îÄ network/       # –°–µ—Ç–µ–≤–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ ipc/           # –ú–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
‚îú‚îÄ‚îÄ contextmenu/   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Windows Shell
‚îî‚îÄ‚îÄ ui/            # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### 1. **Observer (–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å)**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù—É–∂–Ω–æ —É–≤–µ–¥–æ–º–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:** Clipboard Manager –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

```go
// Clipboard Manager (Subject)
type Manager struct {
    channel chan ClipboardContent
}

func (m *Manager) Watch() chan ClipboardContent {
    return m.channel // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
}

// Network Manager (Observer)
go func() {
    for clipContent := range clipboardMgr.Watch() {
        connMgr.BroadcastClipboard(clipContent.Text)
    }
}()
```

**–ü–æ—á–µ–º—É —ç—Ç–æ —É–¥–æ–±–Ω–æ:**
- Clipboard Manager –Ω–µ –∑–Ω–∞–µ—Ç, –∫—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –¥–∞–Ω–Ω—ã–µ
- –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ goroutines

#### 2. **Strategy (–°—Ç—Ä–∞—Ç–µ–≥–∏—è)**

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç–µ–∫—Å—Ç, —Ñ–∞–π–ª, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ) —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:** –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é.

```go
type ClipboardContent struct {
    Type     ContentType // text, file, image
    Text     string
    FileName string
    FileData []byte
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
switch clipContent.Type {
case ContentTypeText:
    handleText(clipContent.Text)
case ContentTypeFile:
    handleFile(clipContent.FileName, clipContent.FileData)
case ContentTypeImage:
    handleImage(clipContent.FileData)
}
```

#### 3. **Singleton (–û–¥–∏–Ω–æ—á–∫–∞)**

**–ü—Ä–æ–±–ª–µ–º–∞:** IPC —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–∏–Ω –Ω–∞ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `sync.Once` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.

```go
var (
    ipcServerInstance *IPCServer
    ipcServerOnce     sync.Once
)

func NewIPCServer() (*IPCServer, error) {
    ipcServerOnce.Do(func() {
        listener, _ := net.Listen("tcp", "127.0.0.1:54323")
        ipcServerInstance = &IPCServer{listener: listener}
    })
    return ipcServerInstance, nil
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `sync.Once`:**
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ (–º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö goroutines)

---

## üåê –°–µ—Ç–µ–≤–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è

### 1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (UDP Broadcast)

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç UDP-–ø–∞–∫–µ—Ç –Ω–∞ **broadcast –∞–¥—Ä–µ—Å** (–Ω–∞–ø—Ä–∏–º–µ—Ä, 192.168.1.255)
2. –í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–µ—Ç–∏ –ø–æ–ª—É—á–∞—é—Ç —ç—Ç–æ—Ç –ø–∞–∫–µ—Ç
3. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –æ—Ç–≤–µ—á–∞—é—Ç —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

```go
func Scan(hostname string) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ broadcast
    conn, _ := net.DialUDP("udp", nil, &net.UDPAddr{
        IP:   net.IPv4bcast, // 255.255.255.255
        Port: 9999,
    })
    message := fmt.Sprintf("DISCOVER:%s", hostname)
    conn.Write([]byte(message))
    
    // –ü—Ä–∏—ë–º –æ—Ç–≤–µ—Ç–æ–≤
    buffer := make([]byte, 1024)
    conn.SetReadDeadline(time.Now().Add(2 * time.Second))
    n, addr, _ := conn.ReadFromUDP(buffer)
    
    // –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞
    response := string(buffer[:n])
    // "RESPONSE:OtherPC:192.168.0.105"
}
```

**–ü–æ—á–µ–º—É UDP?**
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–±—ã—Å—Ç—Ä–µ–µ)
- Broadcast —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å UDP
- –ü–æ—Ç–µ—Ä—è –ø–∞–∫–µ—Ç–æ–≤ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è discovery

### 2. P2P –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è (TCP)

**–ü–æ—á–µ–º—É TCP –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö?**
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –ø–∞–∫–µ—Ç–æ–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:**
```go
func Connect(peerIP string) error {
    // 1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    conn, _ := net.Dial("tcp", fmt.Sprintf("%s:5000", peerIP))
    request := ConnectionRequest{
        FromName: "MyPC",
        FromIP:   "192.168.0.105",
    }
    json.NewEncoder(conn).Encode(request)
    
    // 2. –û–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
    var response ConnectionResponse
    json.NewDecoder(conn).Decode(&response)
    
    if response.Accept {
        // 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        connections[peerIP] = conn
        
        // 4. –ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
        go handleMessages(conn)
    }
    return nil
}
```

**Persistent Connection:**
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–µ—Ä–∂–∏—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º –≤—Å—ë –≤—Ä–µ–º—è
- –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ = –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–∏—Å—å –≤ —Å–æ–∫–µ—Ç
- –ò–∑–±–µ–≥–∞–µ–º overhead –Ω–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### 3. –ü—Ä–æ—Ç–æ–∫–æ–ª —Å–æ–æ–±—â–µ–Ω–∏–π (JSON)

**–§–æ—Ä–º–∞—Ç:**
```json
{
  "type": "clipboard_text",
  "data": {
    "from_ip": "192.168.0.105",
    "content": "Hello, World!"
  }
}
```

**–ü–æ—á–µ–º—É JSON?**
- –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç (–ª–µ–≥–∫–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Go –∏–º–µ–µ—Ç –æ—Ç–ª–∏—á–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É
- –ì–∏–±–∫–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- **Protocol Buffers** ‚Äî –±—ã—Å—Ç—Ä–µ–µ, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ
- **MessagePack** ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ, –Ω–æ –º–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–π
- **–ü—Ä–æ—Å—Ç—ã–µ –±–∞–π—Ç—ã** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, –Ω–æ –±–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

---

## üìã –†–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞

### Polling vs Event-based

**Polling (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ):**
```go
ticker := time.NewTicker(100 * time.Millisecond)
for range ticker.C {
    currentData := clipboard.Read(clipboard.FmtText)
    if !bytes.Equal(currentData, lastData) {
        // –ë—É—Ñ–µ—Ä –∏–∑–º–µ–Ω–∏–ª—Å—è!
        lastData = currentData
    }
}
```

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

**–ú–∏–Ω—É—Å—ã:**
- –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–æ 100 –º—Å –ø–µ—Ä–µ–¥ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ)

**Event-based (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):**
- Windows: `AddClipboardFormatListener` API
- Linux: X11 —Å–æ–±—ã—Ç–∏—è
- macOS: NSPasteboard change count

**–ü–æ—á–µ–º—É polling:**
- `golang.design/clipboard` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç events
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –±—É–¥—É—â–µ–π –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç–∏

---

## üì¶ –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤

### Chunked Transfer (–ß–∞–Ω–∫–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞)

**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª—ã —Ä–∞–∑–º–µ—Ä–æ–º 1 GB –Ω–µ–ª—å–∑—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ø–∞–º—è—Ç—å —Ü–µ–ª–∏–∫–æ–º.

**–†–µ—à–µ–Ω–∏–µ:** –†–∞–∑–±–∏–≤–∞–µ–º —Ñ–∞–π–ª –Ω–∞ –∫—É—Å–∫–∏ (chunks) –ø–æ 512 KB.

```go
const chunkSize = 512 * 1024 // 512 KB

func SendFile(fileName string, fileData []byte) {
    totalChunks := (len(fileData) + chunkSize - 1) / chunkSize
    
    // 1. –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
    sendMessage(FileChunkStart{
        FileName:    fileName,
        TotalSize:   len(fileData),
        TotalChunks: totalChunks,
        Checksum:    sha256.Sum256(fileData),
    })
    
    // 2. –û—Ç–ø—Ä–∞–≤–∫–∞ —á–∞–Ω–∫–æ–≤
    for i := 0; i < totalChunks; i++ {
        start := i * chunkSize
        end := min(start+chunkSize, len(fileData))
        
        sendMessage(FileChunkData{
            ChunkIndex: i,
            Data:       fileData[start:end],
        })
    }
    
    // 3. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
    sendMessage(FileChunkComplete{
        FileID: generateID(),
    })
}
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω–µ:**
```go
type FileTransfer struct {
    FileName    string
    TotalChunks int
    Chunks      map[int][]byte // –∏–Ω–¥–µ–∫—Å ‚Üí –¥–∞–Ω–Ω—ã–µ
}

func OnFileChunkData(chunk FileChunkData) {
    transfer.Chunks[chunk.ChunkIndex] = chunk.Data
    
    if len(transfer.Chunks) == transfer.TotalChunks {
        // –í—Å–µ —á–∞–Ω–∫–∏ –ø–æ–ª—É—á–µ–Ω—ã ‚Äî —Å–æ–±–∏—Ä–∞–µ–º —Ñ–∞–π–ª
        fileData := assembleChunks(transfer.Chunks)
        saveFile(transfer.FileName, fileData)
    }
}
```

**–ü–æ—á–µ–º—É 512 KB?**
- –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Ä–∞–∑–º–µ—Ä–æ–º –±—É—Ñ–µ—Ä–∞
- –ú–µ–Ω—å—à–µ ‚Üí –±–æ–ª—å—à–µ overhead –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É
- –ë–æ–ª—å—à–µ ‚Üí –±–æ–ª—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ (Checksum)

**SHA-256 —Ö–µ—à:**
```go
import "crypto/sha256"

func ComputeFileChecksum(data []byte) string {
    hash := sha256.Sum256(data)
    return fmt.Sprintf("%x", hash)
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ:**
```go
if actualChecksum != expectedChecksum {
    return errors.New("file corrupted during transfer")
}
```

**–ü–æ—á–µ–º—É SHA-256?**
- –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–π (–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∞—Ç—å)
- –ë—ã—Å—Ç—Ä—ã–π (–æ–∫–æ–ª–æ 300 MB/s –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º CPU)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏

---

## üîÑ IPC –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Windows

### Inter-Process Communication

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –Ω–æ GUI —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ:** –í—Ç–æ—Ä–æ–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ø–µ—Ä–≤–æ–º—É —á–µ—Ä–µ–∑ TCP –Ω–∞ localhost.

```go
// –ü—Ä–æ—Ü–µ—Å—Å 1 (GUI) ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç IPC —Å–µ—Ä–≤–µ—Ä
func main() {
    ipcServer, _ := ipc.NewIPCServer() // –°–ª—É—à–∞–µ—Ç 127.0.0.1:54323
    app.Run()
}

// –ü—Ä–æ—Ü–µ—Å—Å 2 (–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é) ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É
func main() {
    if len(os.Args) > 1 && os.Args[1] == "--send" {
        client := ipc.NewIPCClient()
        client.SendFiles([]string{os.Args[2]})
        os.Exit(0)
    }
}
```

**–§–æ—Ä–º–∞—Ç IPC —Å–æ–æ–±—â–µ–Ω–∏—è:**
```json
{
  "type": "send_files",
  "data": {
    "file_paths": ["C:\\Users\\...\\file.txt"]
  }
}
```

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é

**–†–µ–µ—Å—Ç—Ä Windows:**
```
HKEY_CURRENT_USER\Software\Classes\*\shell\ShareMyClipboard
  (Default) = "Send to Connected Devices"
  Icon = "C:\path\to\app.exe"
  
  \command
    (Default) = "C:\path\to\app.exe" --send "%1"
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç Windows:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –ü–ö–ú –Ω–∞ —Ñ–∞–π–ª–µ
2. Windows —á–∏—Ç–∞–µ—Ç `*\shell\ShareMyClipboard`
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É–Ω–∫—Ç –º–µ–Ω—é "Send to Connected Devices"
4. –ü—Ä–∏ –∫–ª–∏–∫–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç: `app.exe --send "C:\path\to\selected\file.txt"`

---

## üßµ –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

### Goroutines

**–ß—Ç–æ —ç—Ç–æ?**  
–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ Go runtime (–Ω–µ OS threads).

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ:**
```go
// 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞
go func() {
    for range time.NewTicker(100 * time.Millisecond).C {
        checkClipboard()
    }
}()

// 2. –ü—Ä–∏—ë–º —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
go func() {
    for {
        message := readFromNetwork()
        handleMessage(message)
    }
}()

// 3. –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤
go func() {
    for _, peer := range connectedPeers {
        sendFile(peer, fileData)
    }
}()
```

**–ü–æ—á–µ–º—É –Ω–µ OS threads?**
- Goroutines –ª–µ–≥—á–µ (~2 KB —Å—Ç–µ–∫–∞ vs ~1 MB –¥–ª—è thread)
- –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–ª–ª–∏–æ–Ω—ã goroutines
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Go scheduler

### Channels (–ö–∞–Ω–∞–ª—ã)

**–ß—Ç–æ —ç—Ç–æ?**  
–ú–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É goroutines (–∫–∞–∫ –æ—á–µ—Ä–µ–¥—å).

```go
ch := make(chan ClipboardContent, 10) // –±—É—Ñ–µ—Ä –Ω–∞ 10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤

// –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å
go func() {
    ch <- ClipboardContent{Text: "Hello"}
}()

// –ü–æ–ª—É—á–∞—Ç–µ–ª—å
go func() {
    content := <-ch
    fmt.Println(content.Text)
}()
```

**–ë—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π vs –Ω–µ–±—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π:**
- **–ù–µ–±—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π:** `make(chan T)` ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è
- **–ë—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π:** `make(chan T, N)` ‚Äî –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å N —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### Mutex (–í–∑–∞–∏–º–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Å–∫–æ–ª—å–∫–æ goroutines –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ ‚Üí race condition.

```go
type DeviceStore struct {
    Devices   []Device
    DevicesMu sync.RWMutex // Read-Write Mutex
}

func (s *DeviceStore) AddDevice(d Device) {
    s.DevicesMu.Lock()         // –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
    defer s.DevicesMu.Unlock()
    s.Devices = append(s.Devices, d)
}

func (s *DeviceStore) GetDevices() []Device {
    s.DevicesMu.RLock()         // Shared –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (—á—Ç–µ–Ω–∏–µ)
    defer s.DevicesMu.RUnlock()
    return s.Devices
}
```

**RWMutex vs Mutex:**
- **Mutex:** —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å
- **RWMutex:** –º–Ω–æ–≥–æ —á–∏—Ç–∞—Ç–µ–ª–µ–π –ò–õ–ò –æ–¥–∏–Ω –ø–∏—Å–∞—Ç–µ–ª—å

### WaitGroup (–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù—É–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö goroutines.

```go
var wg sync.WaitGroup

for _, peer := range peers {
    wg.Add(1) // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
    go func(p Peer) {
        defer wg.Done() // –£–º–µ–Ω—å—à–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
        sendFile(p, fileData)
    }(peer)
}

wg.Wait() // –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ wg.Done() –æ—Ç –≤—Å–µ—Ö
fmt.Println("–í—Å–µ —Ñ–∞–π–ª—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!")
```

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ü–∞—Ç—Ç–µ—Ä–Ω: Error Wrapping

```go
func ReadFile(path string) ([]byte, error) {
    data, err := os.ReadFile(path)
    if err != nil {
        return nil, fmt.Errorf("failed to read %s: %w", path, err)
    }
    return data, nil
}
```

**`%w` —Ñ–æ—Ä–º–∞—Ç:**
- –û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—É—é –æ—à–∏–±–∫—É
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø: `errors.Is(err, os.ErrNotExist)`

### Graceful Degradation

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö.

```go
// –ï—Å–ª–∏ IPC —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è ‚Äî –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º
ipcServer, err := ipc.NewIPCServer()
if err != nil {
    log.Printf("Warning: IPC server failed: %v", err)
    // –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
}
```

---

## üéì –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

### 1. **Concurrency vs Parallelism**
- **Concurrency:** –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á *–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è* (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
- **Parallelism:** –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á *–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è* –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–¥—Ä–∞—Ö

### 2. **Blocking vs Non-Blocking I/O**
- **Blocking:** –æ–ø–µ—Ä–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- **Non-Blocking:** –æ–ø–µ—Ä–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∑–∂–µ

### 3. **TCP vs UDP**
- **TCP:** –Ω–∞–¥—ë–∂–Ω—ã–π, —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π, –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- **UDP:** –Ω–µ–Ω–∞–¥—ë–∂–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π, –¥–ª—è broadcast

### 4. **JSON Encoding/Decoding**
```go
// –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (Go ‚Üí JSON)
json.NewEncoder(conn).Encode(message)

// –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (JSON ‚Üí Go)
var msg Message
json.NewDecoder(conn).Decode(&msg)
```

---

## üìö –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

1. **–ö–Ω–∏–≥–∏:**
   - "The Go Programming Language" ‚Äî Donovan & Kernighan
   - "Concurrency in Go" ‚Äî Katherine Cox-Buday
   - "Network Programming with Go" ‚Äî Jan Newmarch

2. **–û–Ω–ª–∞–π–Ω –∫—É—Ä—Å—ã:**
   - [Tour of Go](https://go.dev/tour/) ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ç—É—Ç–æ—Ä–∏–∞–ª
   - [Go by Example](https://gobyexample.com/) ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - [Go Standard Library](https://pkg.go.dev/std)
   - [Fyne Docs](https://developer.fyne.io/)

---

**–£–¥–∞—á–∏ –≤ –∏–∑—É—á–µ–Ω–∏–∏! –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–π issue –Ω–∞ GitHub! üöÄ**
